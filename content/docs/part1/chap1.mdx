---
title: "Chapter 1: Rust Development Environment Setup"
description: "Learn how to set up your Rust development environment for Halo2 development"
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

# Rust Development Environment Setup

This chapter will guide you through setting up a complete Rust development environment suitable for Halo2 development.

## Prerequisites

Before we begin, ensure you have:
- A computer running Windows, macOS, or Linux
- Administrative access to install software
- Internet connection
- Basic familiarity with command line operations
- IDE installed

## Installing the Rust Toolchain

Rust installation is managed through `rustup`, a command line tool that handles Rust versions and associated tools.

### Installing rustup

<Tabs items={["Windows", "macOS/Linux"]}>
  
```bash tab="Windows"
# Download and run rustup-init.exe from https://rustup.rs
# Or use winget:
winget install Rust
```

```bash tab="macOS/Linux"
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

</Tabs>

<Callout>
After installation, you may need to restart your terminal for the changes to take effect.
</Callout>

### Verifying the Installation

Open a new terminal window and run these commands:

```bash
rustc --version
cargo --version
rustup --version
```

You should see output similar to:
```plaintext
rustc 1.82.0 (f6e511eec 2024-10-15)
cargo 1.82.0 (8f40fc59f 2024-08-21)
rustup 1.27.1 (54dd3d00f 2024-04-24)
```

### Updating Rust

To update your Rust installation:

```bash
rustup update
```

## Essential Development Extensions

Install these extensions for the best Rust development experience:

<Cards>
  <Card
    title="rust-analyzer"
    href="https://marketplace.visualstudio.com/items?itemName=rust-lang.rust-analyzer"
  >
    The official Rust language server. Provides intelligent code completion, go to definition, real-time error checking, inline type hints, smart refactoring, and automatic imports.
  </Card>
  
  <Card
    title="CodeLLDB"
    href="https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb"
  >
    Advanced debugging support for Rust, including breakpoint management, variable inspection, stack trace navigation, and memory inspection.
  </Card>

  <Card
    title="Better TOML"
    href="https://marketplace.visualstudio.com/items?itemName=bungcip.better-toml"
  >
    Improved support for Cargo.toml files with syntax highlighting, semantic validation, and autocompletion for dependencies.
  </Card>

  <Card
    title="crates"
    href="https://marketplace.visualstudio.com/items?itemName=serayuzgur.crates"
  >
    Helps manage Rust dependencies with version lookup, update notifications, and easy access to dependency documentation.
  </Card>
</Cards>

### Recommended Settings

Add these settings to your editor configuration:

```json title="settings.json"
{
    "editor.formatOnSave": true,
    "rust-analyzer.inlayHints.typeHints.enable": true,
    "rust-analyzer.inlayHints.parameterHints.enable": true,
    "rust-analyzer.procMacro.enable": true
}
```

## Creating Your First Rust Program

Let's create and run a simple Rust program to verify everything is working correctly.

### Creating a New Project

Open your terminal and run:

```bash
cargo new hello_halo2
cd hello_halo2
```

This creates a new directory `hello_halo2` with this structure:

```plaintext
hello_halo2/
├── Cargo.toml
└── src/
    └── main.rs
```

### Understanding Project Files

#### Cargo.toml
This is your project's manifest file. It includes metadata and dependencies:

```toml title="Cargo.toml"
[package]
name = "hello_halo2"
version = "0.1.0"
edition = "2021"

[dependencies]
```

#### src/main.rs
This is your program's entry point:

```rust title="src/main.rs"
fn main() {
    println!("Hello, world!");
}
```

### Building and Running

To build and run your program:

```bash
cargo run
```

You should see:
```plaintext
   Compiling hello_halo2 v0.1.0
    Finished dev [unoptimized + debuginfo] target(s) in 0.61s
     Running `target/debug/hello_halo2`
Hello, world!
```

<Callout type="info" title="Cargo Commands">
Common Cargo commands:
- `cargo build`: Compiles your project
- `cargo run`: Compiles and runs your project
- `cargo check`: Checks your code for errors without producing an executable
- `cargo test`: Runs tests
- `cargo clippy`: Runs the Rust linter for additional code checks
- `cargo fmt`: Formats your code according to Rust style guidelines
</Callout>

## Exercises

1. **Environment Verification**
   - Install Rust and verify the installation
   - Install recommended extensions
   - Create and run a "Hello, World!" program

2. **Cargo Exploration**
   ```bash
   # Try these commands and observe the output
   cargo new my_first_circuit
   cd my_first_circuit
   cargo check
   cargo build
   cargo run
   cargo clippy
   cargo fmt
   ```

3. **Project Structure**
   - Modify `src/main.rs` to add a greeting function:
     ```rust
     fn get_greeting(name: &str) -> String {
         format!("Welcome to Rust, {}!", name)
     }
     
     fn main() {
         let greeting = get_greeting("Halo2 Developer");
         println!("{}", greeting);
     }
     ```
   - Build and run your project:
     ```bash
     cargo run
     ```
     You should see:
     ```plaintext
     Compiling my_first_circuit v0.1.0
      Finished dev [unoptimized + debuginfo] target(s) in 0.50s
       Running `target/debug/my_first_circuit`
     Welcome to Rust, Halo2 Developer!
     ```

## Common Issues and Solutions

<Callout type="warn" title="Troubleshooting">
Here are some common issues you might encounter:

1. **"Command not found" after installation**
   - Solution: Restart your terminal or add Rust to your PATH

2. **Permission errors during installation**
   - Solution: Use `sudo` on Unix-like systems or run as administrator on Windows

3. **rust-analyzer not working**
   - Solution: Ensure you have a valid Cargo.toml in your workspace
   - Check that rust-analyzer is properly installed and enabled
   - Reload your editor window
</Callout>

## Next Steps

Once you've completed this chapter, you should have:
- A working Rust installation
- Essential development extensions installed and configured
- Successfully created and run your first Rust program
- Basic familiarity with Cargo commands

In the next chapter, we'll dive into Rust's basic syntax and fundamental concepts.

## Additional Resources

<Cards>
  <Card
    title="Official Rust Documentation"
    href="https://www.rust-lang.org/learn"
  >
    Comprehensive guides and documentation from the Rust team
  </Card>
  
  <Card
    title="Rust by Example"
    href="https://doc.rust-lang.org/rust-by-example/"
  >
    Learn Rust through interactive examples
  </Card>
  
  <Card
    title="rust-analyzer Manual"
    href="https://rust-analyzer.github.io/manual.html"
  >
    Detailed guide for rust-analyzer usage and configuration
  </Card>
</Cards>